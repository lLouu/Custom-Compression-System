#include "../headers/.main.h"
#include "file.h"

int main()
{
    int exit_code = 0;

    FILE* target = fopen(TUTURU, "r");
    FILE* out = fopen(OUT, "w");

    translate_to_bin(target, out);

    fclose(target);
    fclose(out);

    FILE* read_out = fopen(OUT, "r");
    char c = fgetc(read_out), *wanted = "01000001011011000110100101100011011001010010000001110111011000010111001100100000011000100110010101100111011010010110111001101110011010010110111001100111001000000111010001101111001000000110011101100101011101000010000001110110011001010111001001111001001000000111010001101001011100100110010101100100001000000110111101100110001000000111001101101001011101000111010001101001011011100110011100100000011000100111100100100000011010000110010101110010001000000111001101101001011100110111010001100101011100100010000001101111011011100010000001110100011010000110010100100000011000100110000101101110011010110010110000100000011000010110111001100100001000000110111101100110001000000110100001100001011101100110100101101110011001110010000001101110011011110111010001101000011010010110111001100111001000000111010001101111001000000110010001101111";
    
    for(int i = 0; i < 824 && c != EOF; i++)
    {
        if(c != wanted[i])
        {
            exit_code ++;
        }
        c = fgetc(read_out);
    }

    target = fopen(TUTURU, "r");
    out = fopen(OUT, "r");

    if(count(target) != 103)
    {
        exit_code += 1000;
    }

    if(count(out) != 824)
    {
        exit_code += 2000;
    }

    fclose(target);
    fclose(out);

    printf("%d",exit_code);

    return exit_code;
}